<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Geom√©trica XP - Cilindros, Cones e Esferas</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/xp.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Neue', cursive;
            background: #008080;
            min-height: 100vh;
            padding: 10px;
            overflow-x: hidden;
        }

        .window {
            max-width: 1400px;
            margin: 0 auto;
            background: #c0c0c0;
            border: 2px solid;
            border-top-color: #dfdfdf;
            border-left-color: #dfdfdf;
            border-right-color: #808080;
            border-bottom-color: #808080;
            box-shadow: 1px 1px 0 0 #000 inset;
        }

        .title-bar {
            background: linear-gradient(to right, #000080, #1084d0);
            color: white;
            padding: 4px 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 14px;
        }

        .title-bar-text {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .title-bar-controls {
            display: flex;
            gap: 2px;
        }

        .title-bar-controls button {
            width: 20px;
            height: 18px;
            background: #c0c0c0;
            border: 1px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .title-bar-controls button:active {
            border-top-color: #808080;
            border-left-color: #808080;
            border-right-color: #ffffff;
            border-bottom-color: #ffffff;
        }

        .menu-bar {
            background: #c0c0c0;
            border-bottom: 1px solid #808080;
            padding: 4px 8px;
            display: flex;
            gap: 20px;
            font-size: 14px;
        }

        .menu-item {
            cursor: pointer;
            padding: 2px 8px;
            border: 1px solid transparent;
        }

        .menu-item:hover {
            border: 1px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            background: #bdbdbd;
        }

        .status-bar {
            background: #c0c0c0;
            border-top: 1px solid #808080;
            padding: 4px 8px;
            display: flex;
            justify-content: space-between;
            font-size: 12px;
        }

        .tabs {
            display: flex;
            background: #c0c0c0;
            border-bottom: 2px solid #808080;
            flex-wrap: wrap;
            gap: 2px;
            padding: 4px;
        }

        .tab {
            background: #c0c0c0;
            border: 1px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: none;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            justify-content: center;
        }

        .tab:hover {
            background: #e0e0e0;
        }

        .tab.active {
            background: #ffffff;
            border-bottom: 1px solid #ffffff;
            margin-bottom: -1px;
        }

        .tab.active:hover {
            background: #ffffff;
        }

        .content {
            padding: 20px;
            display: none;
            background: #ffffff;
        }

        .content.active {
            display: block;
        }

        .shape-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .shape-visual {
            background: #ffffff;
            border: 2px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            padding: 20px;
            text-align: center;
        }

        .shape-svg {
            max-width: 100%;
            height: 200px;
            margin: 10px 0;
        }

        .inputs-section {
            background: #ffffff;
            border: 2px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            padding: 20px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #000;
            font-size: 14px;
        }

        .input-group input {
            width: 100%;
            padding: 4px 8px;
            border: 2px solid;
            border-top-color: #808080;
            border-left-color: #808080;
            border-right-color: #ffffff;
            border-bottom-color: #ffffff;
            font-size: 14px;
            font-family: 'Comic Neue', cursive;
        }

        .input-group input:focus {
            outline: 1px solid #000080;
            outline-offset: -1px;
        }

        .input-group .unit {
            color: #808080;
            font-size: 12px;
            margin-top: 2px;
        }

        .results-section {
            background: #ffffff;
            border: 2px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            padding: 20px;
            margin-top: 20px;
        }

        .result-item {
            background: #e0e0e0;
            border: 1px solid #808080;
            padding: 15px;
            margin-bottom: 10px;
        }

        .result-item h3 {
            color: #000080;
            margin-bottom: 8px;
            font-size: 16px;
            font-weight: bold;
        }

        .result-value {
            font-size: 18px;
            font-weight: bold;
            color: #000;
            margin-bottom: 8px;
        }

        .formula {
            background: #ffffcc;
            border: 1px solid #808080;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #000;
            margin: 8px 0;
        }

        .explanation {
            background: #ccffcc;
            border: 1px solid #808080;
            padding: 10px;
            color: #000;
            line-height: 1.4;
            margin-top: 8px;
            font-size: 13px;
        }

        .calculation-steps {
            background: #f0f8ff;
            border: 1px solid #808080;
            padding: 10px;
            margin: 8px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        .calculation-step {
            margin: 4px 0;
            padding: 2px 0;
        }

        .calculation-step.highlight {
            background: #ffff99;
            padding: 2px 4px;
            border-radius: 2px;
        }

        .button-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .xp-button {
            background: #c0c0c0;
            border: 2px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            padding: 6px 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            font-family: 'Comic Neue', cursive;
            min-width: 100px;
        }

        .xp-button:hover {
            background: #e0e0e0;
        }

        .xp-button:active {
            border-top-color: #808080;
            border-left-color: #808080;
            border-right-color: #ffffff;
            border-bottom-color: #ffffff;
        }

        .xp-button.primary {
            background: #000080;
            color: white;
        }

        .xp-button.primary:hover {
            background: #0000a0;
        }

        .chalk-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255,255,255,0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,255,255,0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255,255,255,0.2) 0%, transparent 50%);
            mix-blend-mode: overlay;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ffffcc;
            border: 2px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            padding: 15px 20px;
            z-index: 1000;
            font-weight: bold;
            font-size: 14px;
            max-width: 300px;
            box-shadow: 2px 2px 0 0 #000;
        }

        .notification.error {
            background: #ffcccc;
        }

        .advanced-section {
            background: #f0f0f0;
            border: 1px solid #808080;
            padding: 15px;
            margin-top: 15px;
        }

        .advanced-section h4 {
            color: #000080;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        /* Responsividade Mobile */
        @media (max-width: 768px) {
            body {
                padding: 5px;
            }

            .window {
                margin: 0;
            }

            .title-bar-text {
                font-size: 12px;
            }

            .tabs {
                flex-direction: column;
                gap: 4px;
            }

            .tab {
                min-width: auto;
                padding: 6px 12px;
                font-size: 12px;
            }

            .shape-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .content {
                padding: 15px;
            }

            .shape-visual, .inputs-section {
                padding: 15px;
            }

            .shape-svg {
                height: 150px;
            }

            .button-group {
                flex-direction: column;
                align-items: center;
            }

            .xp-button {
                width: 100%;
                max-width: 200px;
            }

            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }

            .menu-bar {
                flex-wrap: wrap;
                gap: 10px;
                font-size: 12px;
            }

            .notification {
                right: 10px;
                left: 10px;
                max-width: none;
            }
        }

        @media (max-width: 480px) {
            .title-bar-text {
                font-size: 10px;
            }

            .tab {
                font-size: 11px;
                padding: 4px 8px;
            }

            .content {
                padding: 10px;
            }

            .result-item {
                padding: 10px;
            }

            .formula, .explanation, .calculation-steps {
                padding: 8px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="window">
        <div class="chalk-effect"></div>
        
        <div class="title-bar">
            <div class="title-bar-text">
                <i class="fas fa-calculator"></i>
                Calculadora Geom√©trica XP - Vers√£o 3.1
            </div>
            <div class="title-bar-controls">
                <button>_</button>
                <button>‚ñ°</button>
                <button>√ó</button>
            </div>
        </div>

        <div class="menu-bar">
            <div class="menu-item">Arquivo</div>
            <div class="menu-item">Editar</div>
            <div class="menu-item">Exibir</div>
            <div class="menu-item">Favoritos</div>
            <div class="menu-item">Ajuda</div>
        </div>

        <div class="tabs">
            <div class="tab active" data-tab="cylinder">
                <i class="fas fa-cylinder"></i> Cilindro
            </div>
            <div class="tab" data-tab="cone">
                <i class="fas fa-traffic-cone"></i> Cone
            </div>
            <div class="tab" data-tab="sphere">
                <i class="fas fa-circle"></i> Esfera
            </div>
        </div>

        <div id="cylinder-content" class="content active">
            <div class="shape-container">
                <div class="shape-visual">
                    <h2>Visualiza√ß√£o do Cilindro</h2>
                    <svg class="shape-svg" viewBox="0 0 300 300">
                        <!-- Base do cilindro -->
                        <ellipse cx="150" cy="250" rx="80" ry="20" fill="#e3f2fd" stroke="#1976D2" stroke-width="2"/>
                        <!-- Lateral do cilindro -->
                        <rect x="70" y="100" width="160" height="150" fill="#bbdefb" stroke="#1976D2" stroke-width="2"/>
                        <!-- Topo do cilindro -->
                        <ellipse cx="150" cy="100" rx="80" ry="20" fill="#90caf9" stroke="#1976D2" stroke-width="2"/>
                        <!-- Linha de altura -->
                        <line x1="250" y1="100" x2="250" y2="250" stroke="#ff5722" stroke-width="3" stroke-dasharray="5,5"/>
                        <text x="260" y="175" fill="#ff5722" font-size="14" font-weight="bold">h</text>
                        <!-- Linha de raio -->
                        <line x1="150" y1="100" x2="230" y2="100" stroke="#4caf50" stroke-width="3"/>
                        <text x="180" y="90" fill="#4caf50" font-size="14" font-weight="bold">r</text>
                    </svg>
                    <p><strong>Elementos do Cilindro:</strong></p>
                    <p>üü¢ <strong>r</strong> = Raio da base</p>
                    <p>üî¥ <strong>h</strong> = Altura</p>
                </div>

                <div class="inputs-section">
                    <h2>Insira os valores</h2>
                    <div class="input-group">
                        <label for="cylinder-radius">Raio (r)</label>
                        <input type="number" id="cylinder-radius" placeholder="Digite o raio" step="0.01" min="0">
                        <div class="unit">Unidade: metros (m)</div>
                    </div>
                    <div class="input-group">
                        <label for="cylinder-height">Altura (h)</label>
                        <input type="number" id="cylinder-height" placeholder="Digite a altura" step="0.01" min="0">
                        <div class="unit">Unidade: metros (m)</div>
                    </div>
                    <div class="button-group">
                        <button class="xp-button primary" onclick="calculateCylinder()">Calcular</button>
                        <button class="xp-button" onclick="clearCylinder()">Limpar</button>
                    </div>
                </div>
            </div>

            <div class="results-section" id="cylinder-results" style="display: none;">
                <h2>Resultados e Explica√ß√µes</h2>
                <div id="cylinder-results-content"></div>
            </div>
        </div>

        <div id="cone-content" class="content">
            <div class="shape-container">
                <div class="shape-visual">
                    <h2>Visualiza√ß√£o do Cone</h2>
                    <svg class="shape-svg" viewBox="0 0 300 300">
                        <!-- Base do cone -->
                        <ellipse cx="150" cy="250" rx="80" ry="20" fill="#e3f2fd" stroke="#1976D2" stroke-width="2"/>
                        <!-- Lateral do cone -->
                        <path d="M 70 250 L 150 50 L 230 250 Z" fill="#bbdefb" stroke="#1976D2" stroke-width="2"/>
                        <!-- Geratriz -->
                        <line x1="150" y1="50" x2="230" y2="250" stroke="#9c27b0" stroke-width="3" stroke-dasharray="5,5"/>
                        <text x="170" y="140" fill="#9c27b0" font-size="14" font-weight="bold">g</text>
                        <!-- Altura -->
                        <line x1="150" y1="50" x2="150" y2="250" stroke="#ff5722" stroke-width="3" stroke-dasharray="5,5"/>
                        <text x="160" y="150" fill="#ff5722" font-size="14" font-weight="bold">h</text>
                        <!-- Raio -->
                        <line x1="150" y1="250" x2="230" y2="250" stroke="#4caf50" stroke-width="3"/>
                        <text x="180" y="270" fill="#4caf50" font-size="14" font-weight="bold">r</text>
                    </svg>
                    <p><strong>Elementos do Cone:</strong></p>
                    <p>üü¢ <strong>r</strong> = Raio da base</p>
                    <p>üî¥ <strong>h</strong> = Altura</p>
                    <p>üü£ <strong>g</strong> = Geratriz</p>
                </div>

                <div class="inputs-section">
                    <h2>Insira os valores</h2>
                    <div class="input-group">
                        <label for="cone-radius">Raio (r)</label>
                        <input type="number" id="cone-radius" placeholder="Digite o raio" step="0.01" min="0">
                        <div class="unit">Unidade: metros (m)</div>
                    </div>
                    <div class="input-group">
                        <label for="cone-height">Altura (h)</label>
                        <input type="number" id="cone-height" placeholder="Digite a altura" step="0.01" min="0">
                        <div class="unit">Unidade: metros (m)</div>
                    </div>
                    <div class="input-group">
                        <label for="cone-slant">Geratriz (g) - Opcional</label>
                        <input type="number" id="cone-slant" placeholder="Digite a geratriz" step="0.01" min="0">
                        <div class="unit">Unidade: metros (m)</div>
                        <small style="color: #666;">Se n√£o informado, ser√° calculado automaticamente</small>
                    </div>
                    <div class="button-group">
                        <button class="xp-button primary" onclick="calculateCone()">Calcular</button>
                        <button class="xp-button" onclick="clearCone()">Limpar</button>
                    </div>
                </div>
            </div>

            <div class="results-section" id="cone-results" style="display: none;">
                <h2>Resultados e Explica√ß√µes</h2>
                <div id="cone-results-content"></div>
            </div>
        </div>

        <div id="sphere-content" class="content">
            <div class="shape-container">
                <div class="shape-visual">
                    <h2>Visualiza√ß√£o da Esfera</h2>
                    <svg class="shape-svg" viewBox="0 0 300 300">
                        <!-- Esfera -->
                        <circle cx="150" cy="150" r="100" fill="#e1f5fe" stroke="#0277bd" stroke-width="3"/>
                        <!-- Linha de raio -->
                        <line x1="150" y1="150" x2="250" y2="150" stroke="#4caf50" stroke-width="3"/>
                        <text x="190" y="145" fill="#4caf50" font-size="14" font-weight="bold">r</text>
                        <!-- Di√¢metro -->
                        <line x1="50" y1="150" x2="250" y2="150" stroke="#ff5722" stroke-width="2" stroke-dasharray="5,5"/>
                        <text x="140" y="170" fill="#ff5722" font-size="14" font-weight="bold">d</text>
                        <!-- Centro -->
                        <circle cx="150" cy="150" r="3" fill="#000"/>
                    </svg>
                    <p><strong>Elementos da Esfera:</strong></p>
                    <p>üü¢ <strong>r</strong> = Raio</p>
                    <p>üî¥ <strong>d</strong> = Di√¢metro</p>
                </div>

                <div class="inputs-section">
                    <h2>Insira os valores</h2>
                    <div class="input-group">
                        <label for="sphere-radius">Raio (r)</label>
                        <input type="number" id="sphere-radius" placeholder="Digite o raio" step="0.01" min="0">
                        <div class="unit">Unidade: metros (m)</div>
                    </div>
                    <div class="input-group">
                        <label for="sphere-diameter">Di√¢metro (d) - Opcional</label>
                        <input type="number" id="sphere-diameter" placeholder="Digite o di√¢metro" step="0.01" min="0">
                        <div class="unit">Unidade: metros (m)</div>
                        <small style="color: #666;">Se n√£o informado, d = 2r</small>
                    </div>
                    <div class="button-group">
                        <button class="xp-button primary" onclick="calculateSphere()">Calcular</button>
                        <button class="xp-button" onclick="clearSphere()">Limpar</button>
                    </div>
                </div>
            </div>

            <div class="results-section" id="sphere-results" style="display: none;">
                <h2>Resultados e Explica√ß√µes</h2>
                <div id="sphere-results-content"></div>
            </div>
        </div>

        <div class="status-bar">
            <div>Pronto</div>
            <div>Calculadora Geom√©trica XP v3.1</div>
        </div>
    </div>

    <script>
        // Fun√ß√µes utilit√°rias
        const utils = {
            formatNumber: (num) => {
                return parseFloat(num.toFixed(6));
            },
            
            createCalculationSteps: (steps, finalResult) => {
                let stepsHTML = '<div class="calculation-steps"><strong>Passo a passo do c√°lculo:</strong><br>';
                steps.forEach((step, index) => {
                    if (index === steps.length - 1) {
                        stepsHTML += `<div class="calculation-step highlight">${step}</div>`;
                    } else {
                        stepsHTML += `<div class="calculation-step">${step}</div>`;
                    }
                });
                stepsHTML += `<div class="calculation-step highlight"><strong>Resultado final: ${finalResult}</strong></div>`;
                stepsHTML += '</div>';
                return stepsHTML;
            },
            
            showNotification: (message, type = 'info') => {
                // Remover notifica√ß√µes existentes
                const existingNotifications = document.querySelectorAll('.notification');
                existingNotifications.forEach(n => n.remove());
                
                // Criar elemento de notifica√ß√£o
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas ${type === 'error' ? 'fa-exclamation-triangle' : 'fa-info-circle'}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                // Remover ap√≥s 4 segundos
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateY(-20px)';
                    notification.style.transition = 'all 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 4000);
            },
            
            switchTab: (tabName) => {
                // Remove active class from all tabs and contents
                document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.content').forEach(content => content.classList.remove('active'));
                
                // Add active class to selected tab and content
                const selectedTab = document.querySelector(`[data-tab="${tabName}"]`);
                const selectedContent = document.getElementById(`${tabName}-content`);
                
                if (selectedTab && selectedContent) {
                    selectedTab.classList.add('active');
                    selectedContent.classList.add('active');
                }
            }
        };

        // Fun√ß√µes de c√°lculo
        const calculations = {
            cylinder: () => {
                const radius = parseFloat(document.getElementById('cylinder-radius').value);
                const height = parseFloat(document.getElementById('cylinder-height').value);
                
                if (isNaN(radius) || isNaN(height) || radius <= 0 || height <= 0) {
                    utils.showNotification('Por favor, insira valores v√°lidos maiores que zero!', 'error');
                    return;
                }
                
                const pi = Math.PI;
                
                // C√°lculos b√°sicos com passos detalhados
                const baseArea = utils.formatNumber(pi * radius * radius);
                const basePerimeter = utils.formatNumber(2 * pi * radius);
                const lateralArea = utils.formatNumber(2 * pi * radius * height);
                const totalArea = utils.formatNumber(2 * pi * radius * (radius + height));
                const volume = utils.formatNumber(pi * radius * radius * height);
                
                // C√°lculos avan√ßados
                const diagonal = utils.formatNumber(Math.sqrt((2 * radius) ** 2 + height ** 2));
                const heightToRadiusRatio = utils.formatNumber(height / radius);
                const volumeToAreaRatio = utils.formatNumber(volume / totalArea);
                const lateralPerimeter = utils.formatNumber(2 * (2 * radius + height));
                
                // Exibir resultados
                const resultsHTML = `
                    <div class="result-item">
                        <h3>üîµ √Årea da Base</h3>
                        <div class="formula">A<sub>base</sub> = œÄ √ó r¬≤</div>
                        ${utils.createCalculationSteps([
                            `A_base = œÄ √ó r¬≤`,
                            `A_base = ${pi.toFixed(6)} √ó ${radius}¬≤`,
                            `A_base = ${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)}`,
                            `A_base = ${(pi * radius * radius).toFixed(6)}`
                        ], baseArea + ' m¬≤')}
                        <div class="result-value">${baseArea} m¬≤</div>
                        <div class="explanation">
                            A √°rea da base √© calculada usando a f√≥rmula da √°rea do c√≠rculo. 
                            Como o cilindro tem duas bases (superior e inferior), a √°rea total das bases √© o dobro deste valor.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üìè Per√≠metro da Base</h3>
                        <div class="formula">P<sub>base</sub> = 2 √ó œÄ √ó r</div>
                        ${utils.createCalculationSteps([
                            `P_base = 2 √ó œÄ √ó r`,
                            `P_base = 2 √ó ${pi.toFixed(6)} √ó ${radius}`,
                            `P_base = ${(2 * pi).toFixed(6)} √ó ${radius}`,
                            `P_base = ${(2 * pi * radius).toFixed(6)}`
                        ], basePerimeter + ' m')}
                        <div class="result-value">${basePerimeter} m</div>
                        <div class="explanation">
                            O per√≠metro da base (circunfer√™ncia) √© importante para calcular a √°rea lateral. 
                            Representa o comprimento da borda circular da base.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üìê √Årea Lateral</h3>
                        <div class="formula">A<sub>lateral</sub> = 2 √ó œÄ √ó r √ó h</div>
                        ${utils.createCalculationSteps([
                            `A_lateral = 2 √ó œÄ √ó r √ó h`,
                            `A_lateral = 2 √ó ${pi.toFixed(6)} √ó ${radius} √ó ${height}`,
                            `A_lateral = ${(2 * pi).toFixed(6)} √ó ${radius} √ó ${height}`,
                            `A_lateral = ${(2 * pi * radius).toFixed(6)} √ó ${height}`,
                            `A_lateral = ${(2 * pi * radius * height).toFixed(6)}`
                        ], lateralArea + ' m¬≤')}
                        <div class="result-value">${lateralArea} m¬≤</div>
                        <div class="explanation">
                            A √°rea lateral representa a superf√≠cie curva do cilindro. 
                            Imagine "desenrolar" o cilindro - voc√™ obteria um ret√¢ngulo com altura igual √† do cilindro 
                            e comprimento igual ao per√≠metro da base (2œÄr).
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üìä √Årea Total</h3>
                        <div class="formula">A<sub>total</sub> = 2 √ó œÄ √ó r √ó (r + h)</div>
                        ${utils.createCalculationSteps([
                            `A_total = 2 √ó œÄ √ó r √ó (r + h)`,
                            `A_total = 2 √ó ${pi.toFixed(6)} √ó ${radius} √ó (${radius} + ${height})`,
                            `A_total = 2 √ó ${pi.toFixed(6)} √ó ${radius} √ó ${(radius + height).toFixed(6)}`,
                            `A_total = ${(2 * pi).toFixed(6)} √ó ${radius} √ó ${(radius + height).toFixed(6)}`,
                            `A_total = ${(2 * pi * radius).toFixed(6)} √ó ${(radius + height).toFixed(6)}`,
                            `A_total = ${(2 * pi * radius * (radius + height)).toFixed(6)}`
                        ], totalArea + ' m¬≤')}
                        <div class="result-value">${totalArea} m¬≤</div>
                        <div class="explanation">
                            A √°rea total √© a soma da √°rea lateral com as √°reas das duas bases. 
                            Esta f√≥rmula j√° inclui as duas bases, sendo equivalente a: A<sub>lateral</sub> + 2 √ó A<sub>base</sub>.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üì¶ Volume</h3>
                        <div class="formula">V = œÄ √ó r¬≤ √ó h</div>
                        ${utils.createCalculationSteps([
                            `V = œÄ √ó r¬≤ √ó h`,
                            `V = ${pi.toFixed(6)} √ó ${radius}¬≤ √ó ${height}`,
                            `V = ${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)} √ó ${height}`,
                            `V = ${(pi * radius * radius).toFixed(6)} √ó ${height}`,
                            `V = ${(pi * radius * radius * height).toFixed(6)}`
                        ], volume + ' m¬≥')}
                        <div class="result-value">${volume} m¬≥</div>
                        <div class="explanation">
                            O volume do cilindro representa o espa√ßo que ele ocupa. 
                            √â calculado multiplicando a √°rea da base pela altura, 
                            similar a como calculamos o volume de um prisma (base √ó altura).
                        </div>
                    </div>
                    
                    <div class="advanced-section">
                        <h4>üî¨ C√°lculos Avan√ßados</h4>
                        <div class="grid-2">
                            <div class="result-item">
                                <h3>Diagonal Espacial</h3>
                                <div class="formula">d = ‚àö((2r)¬≤ + h¬≤)</div>
                                ${utils.createCalculationSteps([
                                    `d = ‚àö((2r)¬≤ + h¬≤)`,
                                    `d = ‚àö((2 √ó ${radius})¬≤ + ${height}¬≤)`,
                                    `d = ‚àö(${(2 * radius).toFixed(6)}¬≤ + ${height}¬≤)`,
                                    `d = ‚àö(${((2 * radius) ** 2).toFixed(6)} + ${(height ** 2).toFixed(6)})`,
                                    `d = ‚àö(${((2 * radius) ** 2 + height ** 2).toFixed(6)})`,
                                    `d = ${Math.sqrt((2 * radius) ** 2 + height ** 2).toFixed(6)}`
                                ], diagonal + ' m')}
                                <div class="result-value">${diagonal} m</div>
                            </div>
                            <div class="result-item">
                                <h3>Rela√ß√£o Altura/Raio</h3>
                                <div class="formula">h/r</div>
                                ${utils.createCalculationSteps([
                                    `h/r = ${height} / ${radius}`,
                                    `h/r = ${(height / radius).toFixed(6)}`
                                ], heightToRadiusRatio)}
                                <div class="result-value">${heightToRadiusRatio}</div>
                            </div>
                            <div class="result-item">
                                <h3>Volume/√Årea</h3>
                                <div class="formula">V/A</div>
                                ${utils.createCalculationSteps([
                                    `V/A = ${volume} / ${totalArea}`,
                                    `V/A = ${(volume / totalArea).toFixed(6)}`
                                ], volumeToAreaRatio + ' m')}
                                <div class="result-value">${volumeToAreaRatio} m</div>
                            </div>
                            <div class="result-item">
                                <h3>Per√≠metro Lateral</h3>
                                <div class="formula">2 √ó (2r + h)</div>
                                ${utils.createCalculationSteps([
                                    `P_lateral = 2 √ó (2r + h)`,
                                    `P_lateral = 2 √ó (2 √ó ${radius} + ${height})`,
                                    `P_lateral = 2 √ó (${(2 * radius).toFixed(6)} + ${height})`,
                                    `P_lateral = 2 √ó ${(2 * radius + height).toFixed(6)}`,
                                    `P_lateral = ${(2 * (2 * radius + height)).toFixed(6)}`
                                ], lateralPerimeter + ' m')}
                                <div class="result-value">${lateralPerimeter} m</div>
                            </div>
                        </div>
                    </div>
                `;
                
                document.getElementById('cylinder-results-content').innerHTML = resultsHTML;
                document.getElementById('cylinder-results').style.display = 'block';
                
                // Anima√ß√£o suave
                document.getElementById('cylinder-results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            },
            
            cone: () => {
                const radius = parseFloat(document.getElementById('cone-radius').value);
                const height = parseFloat(document.getElementById('cone-height').value);
                let slant = parseFloat(document.getElementById('cone-slant').value);
                
                if (isNaN(radius) || isNaN(height) || radius <= 0 || height <= 0) {
                    utils.showNotification('Por favor, insira valores v√°lidos maiores que zero!', 'error');
                    return;
                }
                
                const pi = Math.PI;
                
                // Calcular geratriz se n√£o foi informada
                if (isNaN(slant) || slant <= 0) {
                    slant = utils.formatNumber(Math.sqrt(radius * radius + height * height));
                    document.getElementById('cone-slant').value = slant;
                }
                
                // C√°lculos b√°sicos com passos detalhados
                const baseArea = utils.formatNumber(pi * radius * radius);
                const basePerimeter = utils.formatNumber(2 * pi * radius);
                const lateralArea = utils.formatNumber(pi * radius * slant);
                const totalArea = utils.formatNumber(pi * radius * (radius + slant));
                const volume = utils.formatNumber((pi * radius * radius * height) / 3);
                
                // C√°lculos avan√ßados
                const apexAngle = utils.formatNumber(2 * Math.asin(radius / slant) * (180 / pi));
                const sectorAngle = utils.formatNumber((radius / slant) * 360);
                const slantToHeightRatio = utils.formatNumber(slant / height);
                const volumeRatio = utils.formatNumber(1/3);
                const baseToLateralRatio = utils.formatNumber(radius / slant);
                
                // Exibir resultados
                const resultsHTML = `
                    <div class="result-item">
                        <h3>üü£ Geratriz (g)</h3>
                        <div class="formula">g = ‚àö(r¬≤ + h¬≤)</div>
                        ${utils.createCalculationSteps([
                            `g = ‚àö(r¬≤ + h¬≤)`,
                            `g = ‚àö(${radius}¬≤ + ${height}¬≤)`,
                            `g = ‚àö(${(radius * radius).toFixed(6)} + ${(height * height).toFixed(6)})`,
                            `g = ‚àö(${(radius * radius + height * height).toFixed(6)})`,
                            `g = ${Math.sqrt(radius * radius + height * height).toFixed(6)}`
                        ], slant + ' m')}
                        <div class="result-value">${slant} m</div>
                        <div class="explanation">
                            A geratriz √© a dist√¢ncia do v√©rtice do cone at√© qualquer ponto na circunfer√™ncia da base. 
                            √â calculada usando o Teorema de Pit√°goras, formando um tri√¢ngulo ret√¢ngulo com o raio e a altura.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üîµ √Årea da Base</h3>
                        <div class="formula">A<sub>base</sub> = œÄ √ó r¬≤</div>
                        ${utils.createCalculationSteps([
                            `A_base = œÄ √ó r¬≤`,
                            `A_base = ${pi.toFixed(6)} √ó ${radius}¬≤`,
                            `A_base = ${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)}`,
                            `A_base = ${(pi * radius * radius).toFixed(6)}`
                        ], baseArea + ' m¬≤')}
                        <div class="result-value">${baseArea} m¬≤</div>
                        <div class="explanation">
                            A √°rea da base √© um c√≠rculo, calculada pela f√≥rmula padr√£o œÄr¬≤. 
                            Diferente do cilindro, o cone tem apenas uma base.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üìè Per√≠metro da Base</h3>
                        <div class="formula">P<sub>base</sub> = 2 √ó œÄ √ó r</div>
                        ${utils.createCalculationSteps([
                            `P_base = 2 √ó œÄ √ó r`,
                            `P_base = 2 √ó ${pi.toFixed(6)} √ó ${radius}`,
                            `P_base = ${(2 * pi).toFixed(6)} √ó ${radius}`,
                            `P_base = ${(2 * pi * radius).toFixed(6)}`
                        ], basePerimeter + ' m')}
                        <div class="result-value">${basePerimeter} m</div>
                        <div class="explanation">
                            O per√≠metro da base √© igual √† circunfer√™ncia do c√≠rculo da base. 
                            Este valor √© usado para calcular a √°rea lateral do cone.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üìê √Årea Lateral</h3>
                        <div class="formula">A<sub>lateral</sub> = œÄ √ó r √ó g</div>
                        ${utils.createCalculationSteps([
                            `A_lateral = œÄ √ó r √ó g`,
                            `A_lateral = ${pi.toFixed(6)} √ó ${radius} √ó ${slant}`,
                            `A_lateral = ${(pi * radius).toFixed(6)} √ó ${slant}`,
                            `A_lateral = ${(pi * radius * slant).toFixed(6)}`
                        ], lateralArea + ' m¬≤')}
                        <div class="result-value">${lateralArea} m¬≤</div>
                        <div class="explanation">
                            A √°rea lateral do cone √© calculada usando a geratriz. 
                            Se voc√™ "cortasse" e "desenrolasse" a superf√≠cie lateral, obteria um setor circular 
                            com raio igual √† geratriz e comprimento de arco igual ao per√≠metro da base.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üìä √Årea Total</h3>
                        <div class="formula">A<sub>total</sub> = œÄ √ó r √ó (r + g)</div>
                        ${utils.createCalculationSteps([
                            `A_total = œÄ √ó r √ó (r + g)`,
                            `A_total = ${pi.toFixed(6)} √ó ${radius} √ó (${radius} + ${slant})`,
                            `A_total = ${pi.toFixed(6)} √ó ${radius} √ó ${(radius + slant).toFixed(6)}`,
                            `A_total = ${(pi * radius).toFixed(6)} √ó ${(radius + slant).toFixed(6)}`,
                            `A_total = ${(pi * radius * (radius + slant)).toFixed(6)}`
                        ], totalArea + ' m¬≤')}
                        <div class="result-value">${totalArea} m¬≤</div>
                        <div class="explanation">
                            A √°rea total √© a soma da √°rea lateral com a √°rea da base. 
                            Esta f√≥rmula combina ambos os c√°lculos em uma √∫nica express√£o.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üì¶ Volume</h3>
                        <div class="formula">V = (œÄ √ó r¬≤ √ó h) / 3</div>
                        ${utils.createCalculationSteps([
                            `V = (œÄ √ó r¬≤ √ó h) / 3`,
                            `V = (${pi.toFixed(6)} √ó ${radius}¬≤ √ó ${height}) / 3`,
                            `V = (${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)} √ó ${height}) / 3`,
                            `V = (${(pi * radius * radius * height).toFixed(6)}) / 3`,
                            `V = ${(pi * radius * radius * height / 3).toFixed(6)}`
                        ], volume + ' m¬≥')}
                        <div class="result-value">${volume} m¬≥</div>
                        <div class="explanation">
                            O volume do cone √© exatamente um ter√ßo do volume de um cilindro com mesma base e altura. 
                            Isso ocorre porque o cone "afina" em dire√ß√£o ao v√©rtice, ocupando menos espa√ßo.
                        </div>
                    </div>
                    
                    <div class="advanced-section">
                        <h4>üî¨ C√°lculos Avan√ßados</h4>
                        <div class="grid-3">
                            <div class="result-item">
                                <h3>√Çngulo do V√©rtice</h3>
                                <div class="formula">Œ± = 2 √ó arcsin(r/g) √ó (180/œÄ)</div>
                                ${utils.createCalculationSteps([
                                    `Œ± = 2 √ó arcsin(r/g) √ó (180/œÄ)`,
                                    `Œ± = 2 √ó arcsin(${radius}/${slant}) √ó (180/${pi.toFixed(6)})`,
                                    `Œ± = 2 √ó ${Math.asin(radius / slant).toFixed(6)} √ó ${(180 / pi).toFixed(6)}`,
                                    `Œ± = ${(2 * Math.asin(radius / slant) * (180 / pi)).toFixed(6)}¬∞`
                                ], apexAngle + '¬∞')}
                                <div class="result-value">${apexAngle}¬∞</div>
                            </div>
                            <div class="result-item">
                                <h3>√Çngulo do Setor</h3>
                                <div class="formula">Œ∏ = (r/g) √ó 360¬∞</div>
                                ${utils.createCalculationSteps([
                                    `Œ∏ = (r/g) √ó 360¬∞`,
                                    `Œ∏ = (${radius}/${slant}) √ó 360¬∞`,
                                    `Œ∏ = ${(radius / slant).toFixed(6)} √ó 360¬∞`,
                                    `Œ∏ = ${(radius / slant * 360).toFixed(6)}¬∞`
                                ], sectorAngle + '¬∞')}
                                <div class="result-value">${sectorAngle}¬∞</div>
                            </div>
                            <div class="result-item">
                                <h3>Rela√ß√£o g/h</h3>
                                <div class="formula">g/h</div>
                                ${utils.createCalculationSteps([
                                    `g/h = ${slant} / ${height}`,
                                    `g/h = ${(slant / height).toFixed(6)}`
                                ], slantToHeightRatio)}
                                <div class="result-value">${slantToHeightRatio}</div>
                            </div>
                            <div class="result-item">
                                <h3>Rela√ß√£o V/V<sub>cil</sub></h3>
                                <div class="formula">1/3</div>
                                ${utils.createCalculationSteps([
                                    `V/V_cilindro = 1/3`,
                                    `V/V_cilindro = ${(1/3).toFixed(6)}`
                                ], volumeRatio)}
                                <div class="result-value">${volumeRatio}</div>
                            </div>
                            <div class="result-item">
                                <h3>Rela√ß√£o A<sub>base</sub>/A<sub>lat</sub></h3>
                                <div class="formula">r/g</div>
                                ${utils.createCalculationSteps([
                                    `A_base/A_lateral = r/g`,
                                    `A_base/A_lateral = ${radius}/${slant}`,
                                    `A_base/A_lateral = ${(radius / slant).toFixed(6)}`
                                ], baseToLateralRatio)}
                                <div class="result-value">${baseToLateralRatio}</div>
                            </div>
                            <div class="result-item">
                                <h3>Raio do Desenvolvimento</h3>
                                <div class="formula">R = g</div>
                                ${utils.createCalculationSteps([`R = ${slant}`], slant + ' m')}
                                <div class="result-value">${slant} m</div>
                            </div>
                        </div>
                    </div>
                `;
                
                document.getElementById('cone-results-content').innerHTML = resultsHTML;
                document.getElementById('cone-results').style.display = 'block';
                
                // Anima√ß√£o suave
                document.getElementById('cone-results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            },
            
            sphere: () => {
                let radius = parseFloat(document.getElementById('sphere-radius').value);
                let diameter = parseFloat(document.getElementById('sphere-diameter').value);
                
                // Verificar e converter valores
                if (!isNaN(radius) && radius > 0) {
                    diameter = utils.formatNumber(2 * radius);
                    document.getElementById('sphere-diameter').value = diameter;
                } else if (!isNaN(diameter) && diameter > 0) {
                    radius = utils.formatNumber(diameter / 2);
                    document.getElementById('sphere-radius').value = radius;
                } else {
                    utils.showNotification('Por favor, insira o raio ou o di√¢metro!', 'error');
                    return;
                }
                
                const pi = Math.PI;
                
                // C√°lculos b√°sicos com passos detalhados
                const circumference = utils.formatNumber(2 * pi * radius);
                const surfaceArea = utils.formatNumber(4 * pi * radius * radius);
                const volume = utils.formatNumber((4 * pi * radius * radius * radius) / 3);
                const greatCircleArea = utils.formatNumber(pi * radius * radius);
                
                // C√°lculos avan√ßados
                const hemisphereVolume = utils.formatNumber(volume / 2);
                const hemisphereSurfaceArea = utils.formatNumber(3 * pi * radius * radius);
                const sphericalCapVolume = utils.formatNumber((pi * radius * radius * radius) / 3);
                const sphericalCapArea = utils.formatNumber(2 * pi * radius * radius);
                const volumeToSurfaceRatio = utils.formatNumber(volume / surfaceArea);
                const surfaceDensity = utils.formatNumber(surfaceArea / volume);
                
                // Exibir resultados
                const resultsHTML = `
                    <div class="result-item">
                        <h3>üîµ Di√¢metro</h3>
                        <div class="formula">d = 2 √ó r</div>
                        ${utils.createCalculationSteps([
                            `d = 2 √ó r`,
                            `d = 2 √ó ${radius}`,
                            `d = ${(2 * radius).toFixed(6)}`
                        ], diameter + ' m')}
                        <div class="result-value">${diameter} m</div>
                        <div class="explanation">
                            O di√¢metro √© o dobro do raio e representa a maior dist√¢ncia entre dois pontos na esfera, 
                            passando pelo centro.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üìè Circunfer√™ncia M√°xima</h3>
                        <div class="formula">C = 2 √ó œÄ √ó r</div>
                        ${utils.createCalculationSteps([
                            `C = 2 √ó œÄ √ó r`,
                            `C = 2 √ó ${pi.toFixed(6)} √ó ${radius}`,
                            `C = ${(2 * pi).toFixed(6)} √ó ${radius}`,
                            `C = ${(2 * pi * radius).toFixed(6)}`
                        ], circumference + ' m')}
                        <div class="result-value">${circumference} m</div>
                        <div class="explanation">
                            A circunfer√™ncia m√°xima √© o per√≠metro do maior c√≠rculo que pode ser desenhado na superf√≠cie da esfera. 
                            √â equivalente √† circunfer√™ncia de um c√≠rculo com o mesmo raio.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üìê √Årea da Superf√≠cie</h3>
                        <div class="formula">A = 4 √ó œÄ √ó r¬≤</div>
                        ${utils.createCalculationSteps([
                            `A = 4 √ó œÄ √ó r¬≤`,
                            `A = 4 √ó ${pi.toFixed(6)} √ó ${radius}¬≤`,
                            `A = 4 √ó ${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)}`,
                            `A = ${(4 * pi).toFixed(6)} √ó ${(radius * radius).toFixed(6)}`,
                            `A = ${(4 * pi * radius * radius).toFixed(6)}`
                        ], surfaceArea + ' m¬≤')}
                        <div class="result-value">${surfaceArea} m¬≤</div>
                        <div class="explanation">
                            A √°rea da superf√≠cie de uma esfera √© quatro vezes a √°rea de um c√≠rculo com o mesmo raio. 
                            Isso ocorre porque a esfera pode ser "desdobrada" em quatro c√≠rculos id√™nticos.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>üì¶ Volume</h3>
                        <div class="formula">V = (4 √ó œÄ √ó r¬≥) / 3</div>
                        ${utils.createCalculationSteps([
                            `V = (4 √ó œÄ √ó r¬≥) / 3`,
                            `V = (4 √ó ${pi.toFixed(6)} √ó ${radius}¬≥) / 3`,
                            `V = (4 √ó ${pi.toFixed(6)} √ó ${(radius * radius * radius).toFixed(6)}) / 3`,
                            `V = (${(4 * pi * radius * radius * radius).toFixed(6)}) / 3`,
                            `V = ${(4 * pi * radius * radius * radius / 3).toFixed(6)}`
                        ], volume + ' m¬≥')}
                        <div class="result-value">${volume} m¬≥</div>
                        <div class="explanation">
                            O volume da esfera representa o espa√ßo tridimensional que ela ocupa. 
                            Esta f√≥rmula foi derivada por Arquimedes e √© uma das mais importantes da geometria.
                        </div>
                    </div>
                    
                    <div class="result-item">
                        <h3>‚≠ï √Årea do C√≠rculo M√°ximo</h3>
                        <div class="formula">A<sub>grande</sub> = œÄ √ó r¬≤</div>
                        ${utils.createCalculationSteps([
                            `A_grande = œÄ √ó r¬≤`,
                            `A_grande = ${pi.toFixed(6)} √ó ${radius}¬≤`,
                            `A_grande = ${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)}`,
                            `A_grande = ${(pi * radius * radius).toFixed(6)}`
                        ], greatCircleArea + ' m¬≤')}
                        <div class="result-value">${greatCircleArea} m¬≤</div>
                        <div class="explanation">
                            O c√≠rculo m√°ximo √© o maior c√≠rculo que pode ser desenhado na superf√≠cie da esfera. 
                            Sua √°rea √© exatamente um quarto da √°rea total da superf√≠cie da esfera.
                        </div>
                    </div>
                    
                    <div class="advanced-section">
                        <h4>üî¨ C√°lculos Avan√ßados</h4>
                        <div class="grid-2">
                            <div class="result-item">
                                <h3>Volume do Hemisf√©rio</h3>
                                <div class="formula">V<sub>hemi</sub> = V/2</div>
                                ${utils.createCalculationSteps([
                                    `V_hemi = V / 2`,
                                    `V_hemi = ${volume} / 2`,
                                    `V_hemi = ${(volume / 2).toFixed(6)}`
                                ], hemisphereVolume + ' m¬≥')}
                                <div class="result-value">${hemisphereVolume} m¬≥</div>
                            </div>
                            <div class="result-item">
                                <h3>√Årea do Hemisf√©rio</h3>
                                <div class="formula">A<sub>hemi</sub> = 3œÄr¬≤</div>
                                ${utils.createCalculationSteps([
                                    `A_hemi = 3 √ó œÄ √ó r¬≤`,
                                    `A_hemi = 3 √ó ${pi.toFixed(6)} √ó ${radius}¬≤`,
                                    `A_hemi = 3 √ó ${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)}`,
                                    `A_hemi = ${(3 * pi).toFixed(6)} √ó ${(radius * radius).toFixed(6)}`,
                                    `A_hemi = ${(3 * pi * radius * radius).toFixed(6)}`
                                ], hemisphereSurfaceArea + ' m¬≤')}
                                <div class="result-value">${hemisphereSurfaceArea} m¬≤</div>
                            </div>
                            <div class="result-item">
                                <h3>Volume da Calota Esf√©rica</h3>
                                <div class="formula">V<sub>calota</sub> = œÄh¬≤(3r-h)/3</div>
                                ${utils.createCalculationSteps([
                                    `V_calota = (œÄ √ó h¬≤ √ó (3r - h)) / 3`,
                                    `V_calota = (${pi.toFixed(6)} √ó ${radius}¬≤ √ó (3 √ó ${radius} - ${radius})) / 3`,
                                    `V_calota = (${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)} √ó ${(3 * radius - radius).toFixed(6)}) / 3`,
                                    `V_calota = (${pi.toFixed(6)} √ó ${(radius * radius).toFixed(6)} √ó ${(2 * radius).toFixed(6)}) / 3`,
                                    `V_calota = (${(pi * radius * radius * 2 * radius).toFixed(6)}) / 3`,
                                    `V_calota = ${(pi * radius * radius * 2 * radius / 3).toFixed(6)}`
                                ], sphericalCapVolume + ' m¬≥')}
                                <div class="result-value">${sphericalCapVolume} m¬≥</div>
                            </div>
                            <div class="result-item">
                                <h3>√Årea da Calota Esf√©rica</h3>
                                <div class="formula">A<sub>calota</sub> = 2œÄrh</div>
                                ${utils.createCalculationSteps([
                                    `A_calota = 2 √ó œÄ √ó r √ó h`,
                                    `A_calota = 2 √ó ${pi.toFixed(6)} √ó ${radius} √ó ${radius}`,
                                    `A_calota = ${(2 * pi).toFixed(6)} √ó ${radius} √ó ${radius}`,
                                    `A_calota = ${(2 * pi * radius).toFixed(6)} √ó ${radius}`,
                                    `A_calota = ${(2 * pi * radius * radius).toFixed(6)}`
                                ], sphericalCapArea + ' m¬≤')}
                                <div class="result-value">${sphericalCapArea} m¬≤</div>
                            </div>
                            <div class="result-item">
                                <h3>Rela√ß√£o Volume/√Årea</h3>
                                <div class="formula">V/A</div>
                                ${utils.createCalculationSteps([
                                    `V/A = ${volume} / ${surfaceArea}`,
                                    `V/A = ${(volume / surfaceArea).toFixed(6)}`
                                ], volumeToSurfaceRatio + ' m')}
                                <div class="result-value">${volumeToSurfaceRatio} m</div>
                            </div>
                            <div class="result-item">
                                <h3>Densidade Superficial</h3>
                                <div class="formula">A/V</div>
                                ${utils.createCalculationSteps([
                                    `Densidade = A/V`,
                                    `Densidade = ${surfaceArea} / ${volume}`,
                                    `Densidade = ${(surfaceArea / volume).toFixed(6)}`
                                ], surfaceDensity + ' m‚Åª¬π')}
                                <div class="result-value">${surfaceDensity} m‚Åª¬π</div>
                            </div>
                        </div>
                    </div>
                `;
                
                document.getElementById('sphere-results-content').innerHTML = resultsHTML;
                document.getElementById('sphere-results').style.display = 'block';
                
                // Anima√ß√£o suave
                document.getElementById('sphere-results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        };

        // Fun√ß√µes de limpeza
        const clearFunctions = {
            cylinder: () => {
                document.getElementById('cylinder-radius').value = '';
                document.getElementById('cylinder-height').value = '';
                document.getElementById('cylinder-results').style.display = 'none';
            },
            
            cone: () => {
                document.getElementById('cone-radius').value = '';
                document.getElementById('cone-height').value = '';
                document.getElementById('cone-slant').value = '';
                document.getElementById('cone-results').style.display = 'none';
            },
            
            sphere: () => {
                document.getElementById('sphere-radius').value = '';
                document.getElementById('sphere-diameter').value = '';
                document.getElementById('sphere-results').style.display = 'none';
            }
        };

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', () => {
            // Adicionar event listeners para as abas
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    const tabName = e.currentTarget.getAttribute('data-tab');
                    utils.switchTab(tabName);
                });
            });

            // Adicionar evento de input para c√°lculo autom√°tico
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        const activeTab = document.querySelector('.tab.active');
                        const tabName = activeTab.getAttribute('data-tab');
                        calculations[tabName]();
                    }
                });
            });

            // Simular clique nos menus (efeito visual)
            document.querySelectorAll('.menu-item').forEach(item => {
                item.addEventListener('click', function() {
                    this.style.background = '#000080';
                    this.style.color = 'white';
                    setTimeout(() => {
                        this.style.background = '';
                        this.style.color = '';
                    }, 200);
                });
            });

            // Simular controles da janela
            document.querySelector('.title-bar-controls button:last-child').addEventListener('click', function() {
                if (confirm('Deseja fechar a Calculadora Geom√©trica XP?')) {
                    window.close();
                }
            });
        });

        // Fun√ß√µes globais para onclick
        function switchTab(tabName) {
            utils.switchTab(tabName);
        }

        function calculateCylinder() {
            calculations.cylinder();
        }

        function calculateCone() {
            calculations.cone();
        }

        function calculateSphere() {
            calculations.sphere();
        }

        function clearCylinder() {
            clearFunctions.cylinder();
        }

        function clearCone() {
            clearFunctions.cone();
        }

        function clearSphere() {
            clearFunctions.sphere();
        }
    </script>
</body>
</html>
